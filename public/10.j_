(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{52:function(t,e,s){"use strict";s.r(e);var a=s(1),i={data:function(){return{companies:[],form:new Form({id:void 0,company_id:void 0,shipping_id:void 0,value:void 0,time_approximate:void 0,observation:void 0,date:void 0,status:void 0,date_acceptation:void 0,is_actived:!0})}},methods:{loadCompany:function(){var t=this;axios.get("/api/companies").then((function(e){t.companies=e.data.data})).catch((function(t){console.error(t)}))},save:function(){var t=this;this.form.shipping_id=this.$route.params.id,this.form.status="REQ",this.form.post("/api/requests").then((function(t){Swal.fire({icon:"success",title:"Solicitação Enviada!"})})).catch((function(t){console.error(t),Swal.fire({icon:"error",title:"Opss!",text:"Alguma coisa deu errado, tente novamente mais tarde"})})).then((function(){$("#requestModal").modal("hide"),t.form.reset()}))},loadData:function(){this.loadCompany()}},mounted:function(){this.loadData()}},r=s(0),o={props:{cotation:{required:!0}},data:function(){return{requests:[],items:{}}},methods:{load:function(){var t=this;axios.get("/api/requests").then((function(e){t.requests=e.data.data}))}},mounted:function(){this.load()}};function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c={props:{cotation:{required:!0}},components:{"request-price":Object(r.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#requestModal"}},[t._v("ENVIAR SOLICITAÇÃO")]),t._v(" "),s("div",{staticClass:"col-12 py-3 d-flex col-md-6"},[s("div",{staticClass:"modal fade",attrs:{id:"requestModal",tabindex:"-1",role:"dialog","aria-labelledby":"myExtraLargeModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("label",{attrs:{for:"InputCompany"}},[t._v("Empresa:")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.company_id,expression:"form.company_id"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"company_id",e.target.multiple?s:s[0])}}},t._l(t.companies,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.corporative_name))])})),0)]),t._v(" "),s("div",{staticClass:"col-12"},[s("label",{attrs:{for:"ImputValue"}},[t._v("Valor:")]),t._v(" "),s("div",{staticClass:"input-group"},[t._m(1),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.value},on:{input:function(e){e.target.composing||t.$set(t.form,"value",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"col-12"},[s("label",{attrs:{for:"ImputValue"}},[t._v("Tempo Aproximado:")]),t._v(" "),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.time_approximate,expression:"form.time_approximate"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.time_approximate},on:{input:function(e){e.target.composing||t.$set(t.form,"time_approximate",e.target.value)}}}),t._v(" "),t._m(2)])]),t._v(" "),s("div",{staticClass:"col-12 form-group"},[s("label",{attrs:{for:"exampleFormControlTextarea1"}},[t._v("Observações:")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.observation,expression:"form.observation"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.form.observation},on:{input:function(e){e.target.composing||t.$set(t.form,"observation",e.target.value)}}})]),t._v(" "),t._m(3)])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"requestModalLabel"}},[this._v("Envie uma proposta para solicitar esse frete.")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("R$")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"basic-addon2"}},[this._v("Dias")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-3 col-12"},[e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-primary form-control",attrs:{type:"submit"}},[this._v("Enviar Solicitação")])]),this._v(" "),e("div",{staticClass:"py-2 col-12"},[e("button",{staticClass:"btn btn-danger form-control",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Cancelar")])])])}],!1,null,null,null).exports,"list-request":Object(r.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),s("tbody",t._l(t.requests,(function(e){return e.shipping_id==t.cotation?s("tr",{key:e.id},[s("td",[t._v(t._s(e.company.corporative_name))]),t._v(" "),s("td",[t._v(t._s(e.date))]),t._v(" "),s("td",[t._v("R$ "+t._s(t._f("formatMoney")(e.value)))]),t._v(" "),null==e.observation?s("td",[t._v("Nenhuma Observação")]):s("td",[t._v(t._s(e.observation))])]):t._e()})),0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("EMPRESA")]),this._v(" "),e("th",[this._v("DATA")]),this._v(" "),e("th",[this._v("VALOR")]),this._v(" "),e("th",[this._v("OBSERVAÇÕES")])])])}],!1,null,null,null).exports},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(a.c)({user:"getCurrentUser",isLogged:"isLogged"})),data:function(){return{form:new Form({id:void 0,truck_id:void 0,client:void 0,receiver:void 0,origin:void 0,destination:void 0,email:void 0,cellphone:void 0,telephone:void 0,weight:void 0,value_suggested:void 0,insurance_price:void 0,distance:void 0,company_truck_id:void 0,status:void 0,have_insurance:void 0,is_actived:!0})}},methods:{loadprice:function(){var t=this;axios.get("/api/shippings/".concat(this.cotation)).then((function(e){t.form.fill(e.data.data)}))}},mounted:function(){this.loadprice()}},v={components:{"price-detail":Object(r.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 py-5"},[t.isLogged?t._e():s("div",{staticClass:"col-12 alert alert-danger text-center",attrs:{role:"alert"}},[t._v("\n    PARA SOLICITAR UM FRETE É NECESSÁRIO ESTAR LOGADO!\n    "),s("router-link",{attrs:{to:"/entrar"}},[t._v("CLIQUIE AQUI")])],1),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h2",[t._v("Detalhes do Frete - "+t._s(t.form.client))])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"list-group py-2"},[s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("div",{staticClass:"col-5"},[s("p",{staticClass:"mb-1"},[t._m(0),t._v("\n              "+t._s(t.form.origin)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-4"},[null==t.form.company_truck_id?s("p",{staticClass:"mb-1"},[t._m(1),t._v("Aguadando Solicitação\n            ")]):s("p",{staticClass:"mb-1"},[t._m(2),t._v("\n              "+t._s(t.form.company_truck_id)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-4"},[s("p",{staticClass:"mb-1"},[t._m(3),t._v("\n              "+t._s(t.form.value_suggested)+"\n            ")])])]),t._v(" "),s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("div",{staticClass:"col-5"},[s("p",{staticClass:"mb-1"},[t._m(4),t._v("\n              "+t._s(t.form.destination)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-4"},[s("p",{staticClass:"mb-1"},[t._m(5),t._v("\n              "+t._s(t.form.cellphone)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-4"},[null==t.form.insurance_price?s("p",{staticClass:"mb-1"},[t._m(6),t._v("Não possui Seguro\n            ")]):s("p",{staticClass:"mb-1"},[t._m(7),t._v("\n              "+t._s(t.form.insurance_price)+"\n            ")])])]),t._v(" "),s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("div",{staticClass:"col-4"},[s("p",{staticClass:"mb-1"},[t._m(8),t._v("\n              "+t._s(t.form.distance)+" km\n            ")])]),t._v(" "),s("div",{staticClass:"col-3"},[s("p",{staticClass:"mb-1"},[t._m(9),t._v("\n              "+t._s(t.form.telephone)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-3"},[s("p",{staticClass:"mb-1"},[t._m(10),t._v("\n              "+t._s(t.form.email)+"\n            ")])])]),t._v(" "),s("div",{staticClass:"col-4"},[s("p",{staticClass:"mb-1"},[t._m(11),t._v("\n            "+t._s(t.form.weight)+" kg\n          ")])])])])]),t._v(" "),s("div",[t.isLogged?s("div",[s("request-price")],1):t._e(),t._v(" "),s("div",{staticClass:"text-center"},[s("h3",[t._v("Cotações Enviadas Para Esse Frete:")]),t._v(" "),s("list-request",{attrs:{cotation:t.$route.params.id}})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-map-marker-alt px-1"}),this._v("Origem:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-building px-1"}),this._v("Empresa:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-building px-1"}),this._v("Empresa:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-dollar-sign px-1"}),this._v("Valor Sugerido:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-map-marker-alt px-1"}),this._v("Destino:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-phone-alt px-1"}),this._v("Celular:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-dollar-sign px-1"}),this._v("Seguro:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-dollar-sign px-1"}),this._v("Seguro:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-road px-1"}),this._v("Distância:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-phone-alt px-1"}),this._v("Telefone:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-envelope px-1"}),this._v("E-mail:\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("strong",[e("i",{staticClass:"fas fa-balance-scale-right px-1"}),this._v("Peso:\n            ")])}],!1,null,null,null).exports},data:function(){return{isLoading:!1}}},d=Object(r.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-5 px-4"},[e("price-detail",{attrs:{cotation:this.$route.params.id}})],1)}),[],!1,null,null,null);e.default=d.exports}}]);