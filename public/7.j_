(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{57:function(t,a,e){"use strict";e.r(a);var s={data:function(){return{items:{},companies:[]}},props:{form:{required:!0}},methods:{save:function(){this.$emit("save")},loadCompany:function(){var t=this;axios.get("/api/companies").then((function(a){t.companies=a.data.data})).catch((function(t){console.error(t)}))},loadData:function(){this.loadCompany()}},mounted:function(){this.loadData()}},i=e(0),n=Object(i.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"py-3"},[e("div",{staticClass:"px-2 py-3 col-12 row col-md-6"},[e("div",{staticClass:"modal fade bd-example-modal-xl",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myExtraLargeModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"row col-12"},[e("div",{staticClass:"col-4"},[e("label",{attrs:{for:"InputCompany"}},[t._v("Empresa")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.company_id,expression:"form.company_id"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"company_id",a.target.multiple?e:e[0])}}},t._l(t.companies,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.corporative_name))])})),0)]),t._v(" "),e("div",{staticClass:"col-4"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Nome")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-4"},[e("label",{attrs:{for:"ImputValue"}},[t._v("CPF")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"[\n                      '###.###.###-##'\n                    ]"},{name:"model",rawName:"v-model",value:t.form.cpf,expression:"form.cpf"}],staticClass:"form-control",domProps:{value:t.form.cpf},on:{input:function(a){a.target.composing||t.$set(t.form,"cpf",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-4"},[e("label",{attrs:{for:"ImputValue"}},[t._v("RG")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"mask",rawName:"v-mask",value:["########"],expression:"[\n                      '########'\n                    ]"},{name:"model",rawName:"v-model",value:t.form.rg,expression:"form.rg"}],staticClass:"form-control",domProps:{value:t.form.rg},on:{input:function(a){a.target.composing||t.$set(t.form,"rg",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-4"},[e("label",{attrs:{for:"ImputValue"}},[t._v("CNH")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cnh,expression:"form.cnh"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.cnh},on:{input:function(a){a.target.composing||t.$set(t.form,"cnh",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-4"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Estado CNH")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cnh_state,expression:"form.cnh_state"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.cnh_state},on:{input:function(a){a.target.composing||t.$set(t.form,"cnh_state",a.target.value)}}})])])]),t._v(" "),t._m(1)])])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"clientModalLabel"}},[this._v("CLIENTE")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 py-3 d-flex justify-content-between"},[a("button",{staticClass:"col-6 btn btn-primary form-control",attrs:{type:"submit"}},[this._v("Salvar")]),this._v(" "),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-danger form-control",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Fechar")])])])}],!1,null,null,null).exports,o={props:{items:{type:Object,required:!0}},methods:{del:function(t){this.$emit("del",t)},edit:function(t){this.$emit("edit",t)},load:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=a,axios.get("/api/clients",{params:{page:this.page}}).then((function(a){t.items=a.data}))}}},r={components:{"register-client":n,"list-client":Object(i.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"px-4 py-4 d-flex justify-content-between"},[t._m(0),t._v(" "),e("pagination",{attrs:{data:t.items,limit:5,align:"right",size:"small"},on:{"pagination-change-page":t.load}})],1),t._v(" "),e("table",{staticClass:"table table-striped table-responsive-md table-sm"},[t._m(1),t._v(" "),e("tbody",t._l(t.items.data,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.company.corporative_name))]),t._v(" "),e("td",[t._v(t._s(a.name))]),t._v(" "),e("td",[t._v(t._s(a.cpf))]),t._v(" "),e("td",[t._v(t._s(a.rg))]),t._v(" "),e("td",[t._v(t._s(a.cnh))]),t._v(" "),e("td",[t._v(t._s(a.cnh_state))]),t._v(" "),e("td",{staticClass:"text-right"},[e("a",{staticClass:"btn btn-danger btn-sm fa fa-trash nav-icon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.del(a.id)}}}),t._v(" "),e("a",{staticClass:"btn btn-primary btn-sm nav-icon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.edit(a.id)}}},[e("i",{staticClass:"fa fa-edit"})])])])})),0)])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("h5",[a("strong",[this._v("Cliente")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("EMPERESA")]),t._v(" "),e("th",[t._v("NOME")]),t._v(" "),e("th",[t._v("CPF")]),t._v(" "),e("th",[t._v("RG")]),t._v(" "),e("th",[t._v("CNH")]),t._v(" "),e("th",[t._v("ESTADO CNH")]),t._v(" "),e("th")])}],!1,null,null,null).exports},data:function(){return{items:{},form:new Form({id:void 0,company_id:void 0,name:void 0,cpf:void 0,rg:void 0,cnh:void 0,cnh_state:void 0,is_actived:!0})}},methods:{del:function(t){var a=this;axios.delete("/api/clients/".concat(t)).then((function(t){a.load()}))},load:function(){var t=this;axios.get("/api/clients").then((function(a){t.items=a.data}))},edit:function(t){var a=this;null!=t&&axios.get("/api/clients/".concat(t)).then((function(t){a.form.fill(t.data.data),$(".bd-example-modal-xl").modal("show")}))},save:function(){var t=this;this.form.post("/api/clients").then((function(a){Swal.fire({icon:"success",title:"Cliente Cadastrado!"}),t.load()})).catch((function(t){console.error(t),Swal.fire({icon:"error",title:"Opss!",text:"Alguma coisa deu errado, tente novamente mais tarde"})})).then((function(){$(".bd-example-modal-xl").modal("hide"),t.form.reset()}))}},mounted:function(){this.load()}},l=Object(i.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"py-4 px-4"},[t._m(0),t._v(" "),e("list-client",{attrs:{items:t.items},on:{edit:t.edit,del:t.del}}),t._v(" "),e("register-client",{attrs:{form:t.form},on:{save:t.save}})],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row col-12"},[a("div",{staticClass:"mr-md-2"},[a("button",{staticClass:"btn btn-truck",attrs:{type:"button","data-toggle":"modal","data-target":".bd-example-modal-xl"}},[this._v("Novo Cliente")])])])}],!1,null,null,null);a.default=l.exports}}]);