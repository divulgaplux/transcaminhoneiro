(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{66:function(t,e,a){"use strict";a.r(e);var i=a(7),o={data:function(){return{items:{}}},methods:{del:function(t){this.$emit("del",t)},load:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,axios.get("/api/shippings",{params:{page:this.page}}).then((function(e){t.items=e.data}))},edit:function(t){var e=this;null!=t&&axios.get("/api/shippings/".concat(t)).then((function(t){e.form.fill(t.data.data)}))},save:function(){var t=this;this.form.post("/api/shippings").then((function(e){Swal.fire({icon:"success",title:"Frete Solicitado!"}),t.load()})).catch((function(t){console.error(t),Swal.fire({icon:"error",title:"Opss!",text:"Alguma coisa deu errado, tente novamente mais tarde"})})).then((function(){t.form.reset()}))}},mounted:function(){this.load()}},r=a(0),s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"px-4 py-4 d-flex justify-content-between"},[t._m(0),t._v(" "),a("pagination",{attrs:{data:t.items,limit:5,align:"right",size:"small"},on:{"pagination-change-page":t.load}})],1),t._v(" "),a("table",{staticClass:"table table-striped table-responsive-md table-sm"},[t._m(1),t._v(" "),a("tbody",t._l(t.items.data,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.origin))]),t._v(" "),a("td",[t._v(t._s(e.destination))]),t._v(" "),a("td",[t._v(t._s(e.distance)+" km")]),t._v(" "),a("td",[t._v(t._s(e.email))]),t._v(" "),a("td",[t._v(t._s(e.cellphone))]),t._v(" "),a("td",[t._v(t._s(e.telephone))]),t._v(" "),a("td",[t._v(t._s(e.weight)+" kg")]),t._v(" "),a("td",[t._v("R$ "+t._s(t._f("formatMoney")(e.value_suggested)))]),t._v(" "),null==e.insurance_price?a("td",[t._v("Não Possui")]):a("td",[t._v("R$ "+t._s(t._f("formatMoney")(e.insurance_price)))]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-danger btn-sm fa fa-trash nav-icon",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.del(e.id)}}}),t._v(" "),a("router-link",{staticClass:"btn btn-primary btn-sm nav-icon",attrs:{to:"/admin/cotacao/cadastrar/"+e.id}},[a("i",{staticClass:"fa fa-eye"})])],1)])})),0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h5",[e("strong",[this._v("Minhas Cotações")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ORIGEM")]),t._v(" "),a("th",[t._v("DESTINO")]),t._v(" "),a("th",[t._v("DISTÂNCIA")]),t._v(" "),a("th",[t._v("E-MAIL")]),t._v(" "),a("th",[t._v("CELULAR")]),t._v(" "),a("th",[t._v("TELEFONE")]),t._v(" "),a("th",[t._v("PESO")]),t._v(" "),a("th",[t._v("VALOR")]),t._v(" "),a("th",[t._v("SEGURO")]),t._v(" "),a("th"),t._v(" "),a("th")])])}],!1,null,null,null).exports,n=a(1);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({user:"getCurrentUser",isLogged:"isLogged"})),components:{"register-price":i.a,"list-price":s},data:function(){return{items:{},form:new Form({id:void 0,truck_id:void 0,receiver:void 0,origin:void 0,destination:void 0,weight:void 0,value_suggested:void 0,insurance_price:void 0,distance:void 0,client:void 0,have_insurance:void 0,is_actived:!0})}},methods:{del:function(t){var e=this;axios.delete("/api/shippings/".concat(t)).then((function(t){e.load()}))},load:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,axios.get("/api/shippings").then((function(e){t.items=e.data}))},edit:function(t){var e=this;null!=t&&axios.get("/api/shippings/".concat(t)).then((function(t){e.form.fill(t.data.data),$("#editModal").modal("show")}))},save:function(){var t=this;this.form.client=this.user.id,this.form.post("/api/shippings").then((function(e){Swal.fire({icon:"success",title:"Frete Solicitado!"}),t.load()})).catch((function(t){console.error(t),Swal.fire({icon:"error",title:"Opss!",text:"Alguma coisa deu errado, tente novamente mais tarde"})})).then((function(){$("#priceModal").modal("hide"),t.form.reset()}))}},loadData:function(){this.load(this.$route.params.id)},mounted:function(){this.load()}},v=Object(r.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-4 px-4"},[t._m(0),t._v(" "),a("list-price",{attrs:{items:t.items},on:{edit:t.edit,del:t.del}}),t._v(" "),a("register-price",{attrs:{form:t.form},on:{save:t.save}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row col-12"},[e("div",{staticClass:"mr-md-2"},[e("button",{staticClass:"btn btn-truck",attrs:{type:"button","data-toggle":"modal","data-target":"#priceModal"}},[this._v("Cadastrar Frete")])])])}],!1,null,null,null);e.default=v.exports},7:function(t,e,a){"use strict";var i=a(1);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var s={data:function(){return{items:{},trucks:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(i.c)({user:"getCurrentUser",isLogged:"isLogged"})),props:{form:{required:!0}},methods:{save:function(){this.$emit("save")},loadTruck:function(){var t=this;axios.get("/api/trucks").then((function(e){t.trucks=e.data.data})).catch((function(t){console.error(t)}))},loadData:function(){this.loadTruck()}},mounted:function(){this.loadData()}},n=a(0),l=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"py-3"},[a("div",{staticClass:"col-12 py-3 d-flex col-md-6"},[a("div",{staticClass:"modal fade",attrs:{id:"priceModal",tabindex:"-1",role:"dialog","aria-labelledby":"myExtraLargeModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"priceModalLabel"}},[t._v("Solicite um Novo Frete "+t._s(t.user.name))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"ImputOrigin"}},[t._v("Origem")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.origin,expression:"form.origin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.origin},on:{input:function(e){e.target.composing||t.$set(t.form,"origin",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"Imputdestination"}},[t._v("Destino")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.destination,expression:"form.destination"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.destination},on:{input:function(e){e.target.composing||t.$set(t.form,"destination",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:"Imputemail"}},[t._v("E-mail")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"Imputcellphone"}},[t._v("Celular")]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:["(##) #####-####","(##) ####-####"],expression:"[\n                      '(##) #####-####',\n                      '(##) ####-####'\n                    ]"},{name:"model",rawName:"v-model",value:t.form.cellphone,expression:"form.cellphone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.form.cellphone},on:{input:function(e){e.target.composing||t.$set(t.form,"cellphone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"Imputcellphone"}},[t._v("Telefone")]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:["(##) #####-####","(##) ####-####"],expression:"[\n                      '(##) #####-####',\n                      '(##) ####-####'\n                    ]"},{name:"model",rawName:"v-model",value:t.form.telephone,expression:"form.telephone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.form.telephone},on:{input:function(e){e.target.composing||t.$set(t.form,"telephone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"ImputDistance"}},[t._v("Distância")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.distance,expression:"form.distance"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.distance},on:{input:function(e){e.target.composing||t.$set(t.form,"distance",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"InputWeight"}},[t._v("Peso")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.weight,expression:"form.weight"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.weight},on:{input:function(e){e.target.composing||t.$set(t.form,"weight",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"Inputveinsurance"}},[t._v("Precisa de Seguro?")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.have_insurance,expression:"form.have_insurance"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"have_insurance",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:void 0}}),t._v(" "),a("option",{domProps:{value:!0}},[t._v("Sim")]),t._v(" "),a("option",{domProps:{value:!1}},[t._v("Não")])])]),t._v(" "),1==t.form.have_insurance?a("div",{staticClass:"col-4 input-group mb-3 py-2"},[a("label",{attrs:{for:"Imput"}},[t._v("Valor do Seguro")]),t._v(" "),t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.insurance_price,expression:"form.insurance_price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.insurance_price},on:{input:function(e){e.target.composing||t.$set(t.form,"insurance_price",e.target.value)}}})]):t._e(),t._v(" "),a("div",{staticClass:"col-4 input-group mb-3 py-2"},[a("label",{attrs:{for:"Imput"}},[t._v("Valor Sugerido")]),t._v(" "),t._m(2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value_suggested,expression:"form.value_suggested"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.value_suggested},on:{input:function(e){e.target.composing||t.$set(t.form,"value_suggested",e.target.value)}}})])])]),t._v(" "),t._m(3)])])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("R$")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("R$")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-3 col-12"},[e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-primary form-control",attrs:{type:"submit"}},[this._v("Salvar")])]),this._v(" "),e("div",{staticClass:"py-2 col-12"},[e("button",{staticClass:"btn btn-danger form-control",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Fechar")])])])}],!1,null,null,null);e.a=l.exports}}]);