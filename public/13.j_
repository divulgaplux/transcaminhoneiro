(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{59:function(t,e,a){"use strict";a.r(e);var o={props:{cotation:{required:!0}},data:function(){return{requests:[],companies:[],items:{}}},methods:{load:function(){var t=this;axios.get("/api/requests").then((function(e){t.requests=e.data.data}))},loadCompany:function(){var t=this;axios.get("/api/companies").then((function(e){t.companies=e.data.data}))}},mounted:function(){this.load(),this.loadCompany()}},s=a(0),i={props:{cotation:{required:!0}},data:function(){return{trucks:[],requests:[],form:new Form({id:void 0,truck_id:void 0,client:void 0,receiver:void 0,origin:void 0,destination:void 0,email:void 0,telephone:void 0,cellphone:void 0,weight:void 0,value_suggested:void 0,insurance_price:void 0,distance:void 0,company_truck_id:void 0,status:void 0,have_insurance:void 0,request_id:void 0,is_actived:!0})}},components:{"list-request":Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",t._l(t.requests,(function(e){return e.shipping_id==t.cotation?a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.company.corporative_name))]),t._v(" "),a("td",[t._v(t._s(e.value))]),t._v(" "),a("td",[t._v(t._s(e.time_approximate)+" Dias")]),t._v(" "),a("td",[t._v(t._s(e.observation))]),t._v(" "),a("td",[t._v(t._s(e.date))])]):t._e()})),0)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("N°")]),t._v(" "),a("th",[t._v("EMPRESA")]),t._v(" "),a("th",[t._v("VALOR")]),t._v(" "),a("th",[t._v("TEMPO DE CONCLUSÃO")]),t._v(" "),a("th",[t._v("OBSERVAÇÕES")]),t._v(" "),a("th",[t._v("DATA")])])])}],!1,null,null,null).exports},methods:{load:function(){var t=this;axios.get("/api/shippings/".concat(this.cotation)).then((function(e){t.form.fill(e.data.data)}))},loadTruck:function(){var t=this;axios.get("/api/trucks").then((function(e){t.trucks=e.data.data})).catch((function(t){console.error(t)}))},loadRequest:function(){var t=this;axios.get("/api/requests").then((function(e){t.requests=e.data.data}))},save:function(){var t=this;this.form.post("/api/shippings").then((function(e){Swal.fire({icon:"success",title:"Alterações Salvas!"}),t.load()})).catch((function(t){console.error(t),Swal.fire({icon:"error",title:"Opss!",text:"Alguma coisa deu errado, tente novamente mais tarde"})})).then((function(){t.form.reset()}))}},mounted:function(){this.load(),this.loadTruck(),this.loadRequest()}},r={components:{"price-register":Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("h1",[t._v("Detalhes da Cotação")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"ImputOrigin"}},[t._v("Origem")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.origin,expression:"form.origin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.origin},on:{input:function(e){e.target.composing||t.$set(t.form,"origin",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"Imputdestination"}},[t._v("Destino")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.destination,expression:"form.destination"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.destination},on:{input:function(e){e.target.composing||t.$set(t.form,"destination",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"Imputemail"}},[t._v("E-mail")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"Imputcellphone"}},[t._v("Celular")]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:["(##) #####-####","(##) ####-####"],expression:"[\n                      '(##) #####-####',\n                      '(##) ####-####'\n                    ]"},{name:"model",rawName:"v-model",value:t.form.cellphone,expression:"form.cellphone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.form.cellphone},on:{input:function(e){e.target.composing||t.$set(t.form,"cellphone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"Imputtelephone"}},[t._v("Telefone")]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:["(##) #####-####","(##) ####-####"],expression:"[\n                      '(##) #####-####',\n                      '(##) ####-####'\n                    ]"},{name:"model",rawName:"v-model",value:t.form.telephone,expression:"form.telephone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:t.form.telephone},on:{input:function(e){e.target.composing||t.$set(t.form,"telephone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"ImputDistance"}},[t._v("Distância")]),t._v(" "),a("span",{staticClass:"badge badge-light"},[t._v("Km")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.distance,expression:"form.distance"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.distance},on:{input:function(e){e.target.composing||t.$set(t.form,"distance",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"InputWeight"}},[t._v("Peso")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.weight,expression:"form.weight"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.weight},on:{input:function(e){e.target.composing||t.$set(t.form,"weight",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"Imput"}},[t._v("Valor do Seguro")]),t._v(" "),a("span",{staticClass:"badge badge-light"},[t._v("R$")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.insurance_price,expression:"form.insurance_price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.insurance_price},on:{input:function(e){e.target.composing||t.$set(t.form,"insurance_price",e.target.value)}}}),t._v(" "),null==t.form.insurance_price?a("p",[a("small",[t._v("Não Possui Seguro? Para adicionar digite o valor no campo acima.")])]):t._e()]),t._v(" "),a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"Imput"}},[t._v("Valor Sugerido")]),t._v(" "),a("span",{staticClass:"badge badge-light"},[t._v("R$")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value_suggested,expression:"form.value_suggested"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.value_suggested},on:{input:function(e){e.target.composing||t.$set(t.form,"value_suggested",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"px-2 py-3"}),t._v(" "),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:"InputDescription"}},[t._v("Solicitações Desse Frete")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.request_id,expression:"form.request_id"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"request_id",e.target.multiple?a:a[0])}}},t._l(t.requests,(function(e){return e.shipping_id==t.cotation?a("option",{key:e.id,domProps:{value:e.id}},[a("p",[t._v("\n              N°: "+t._s(e.id)+" -\n              Empresa: "+t._s(e.company_id)+" -\n              "),t._v("\n              Valor: "+t._s(e.value)+" -\n              Tempo de Conclusão: "+t._s(e.time_approximate)+"\n              ")])]):t._e()})),0)]),t._v(" "),t._m(0)])]),t._v(" "),a("div",[a("h3",[t._v("Solicitações desse frete")]),t._v(" "),a("list-request",{attrs:{cotation:t.$route.params.id}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-3 col-12 d-flex justify-content-between"},[e("div",{staticClass:"col-3"},[e("button",{staticClass:"btn btn-primary form-control",attrs:{type:"submit"}},[this._v("Alterar")])]),this._v(" "),e("div",{staticClass:"col-3"},[e("button",{staticClass:"btn btn-danger form-control",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Fechar")])])])}],!1,null,null,null).exports},data:function(){return{isLoading:!1}}},n=Object(s.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-4 px-4"},[e("price-register",{attrs:{cotation:this.$route.params.id}})],1)}),[],!1,null,null,null);e.default=n.exports}}]);