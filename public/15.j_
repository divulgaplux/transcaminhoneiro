(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{54:function(t,a,e){"use strict";e.r(a);var o={data:function(){return{items:{},trucks:[],companies:[]}},props:{form:{required:!0}},methods:{save:function(){this.$emit("save")},loadTruck:function(){var t=this;axios.get("/api/trucks").then((function(a){t.trucks=a.data.data})).catch((function(t){console.error(t)}))},loadCompany:function(){var t=this;axios.get("/api/companies").then((function(a){t.companies=a.data.data})).catch((function(t){console.error(t)}))},loadData:function(){this.loadCompany(),this.loadTruck()}},mounted:function(){this.loadData()}},r=e(0),s=Object(r.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"py-3"},[e("div",{staticClass:"px-2 py-3 col-12 row col-md-6"},[e("div",{staticClass:"modal fade bd-example-modal-xl",attrs:{id:"truckModal",tabindex:"-1",role:"dialog","aria-labelledby":"truckModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"row col-12"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:"InputTruck"}},[t._v("Tipo de Caminhão")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.truck_id,expression:"form.truck_id"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"truck_id",a.target.multiple?e:e[0])}}},t._l(t.trucks,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},["CRT"==a.typetruck?e("td",[t._v("Carreta")]):t._e(),t._v(" "),"CLS"==a.typetruck?e("td",[t._v("Carreta LS")]):t._e(),t._v(" "),"VDL"==a.typetruck?e("td",[t._v("Vanderléia")]):t._e(),t._v(" "),"BRT"==a.typetruck?e("td",[t._v("Bitrem")]):t._e(),t._v(" "),"RTM"==a.typetruck?e("td",[t._v("Rodotrem")]):t._e(),t._v(" "),"TCK"==a.typetruck?e("td",[t._v("Truck")]):t._e(),t._v(" "),"BTK"==a.typetruck?e("td",[t._v("Bitruck")]):t._e(),t._v(" "),"VLC"==a.typetruck?e("td",[t._v("VLC")]):t._e(),t._v(" "),"TPQ"==a.typetruck?e("td",[t._v("3/4")]):t._e(),t._v(" "),"TRC"==a.typetruck?e("td",[t._v("Toco")]):t._e()])})),0)]),t._v(" "),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:"InputCompany"}},[t._v("Empresa Proprietária")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.company_id,expression:"form.company_id"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"company_id",a.target.multiple?e:e[0])}}},t._l(t.companies,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.corporative_name))])})),0)]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"col-3 py-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Placa:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.board,expression:"form.board"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.board},on:{input:function(a){a.target.composing||t.$set(t.form,"board",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3 py-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Renavam:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.renavam,expression:"form.renavam"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.renavam},on:{input:function(a){a.target.composing||t.$set(t.form,"renavam",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3 py-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Marca:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.brand,expression:"form.brand"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.brand},on:{input:function(a){a.target.composing||t.$set(t.form,"brand",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3 py-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Cor:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.color,expression:"form.color"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.color},on:{input:function(a){a.target.composing||t.$set(t.form,"color",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Cidade:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.city},on:{input:function(a){a.target.composing||t.$set(t.form,"city",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Chassi:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.chassi,expression:"form.chassi"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.chassi},on:{input:function(a){a.target.composing||t.$set(t.form,"chassi",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Modelo:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.model,expression:"form.model"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.model},on:{input:function(a){a.target.composing||t.$set(t.form,"model",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"Inputstate"}},[t._v("Estado")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.state,expression:"form.state"}],staticClass:"form-control",attrs:{id:"inputState"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"state",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Selecione")]),t._v(" "),e("option",{attrs:{value:"AC"}},[t._v("Acre")]),t._v(" "),e("option",{attrs:{value:"AL"}},[t._v("Alagoas")]),t._v(" "),e("option",{attrs:{value:"AP"}},[t._v("Amapá")]),t._v(" "),e("option",{attrs:{value:"AM"}},[t._v("Amazonas")]),t._v(" "),e("option",{attrs:{value:"BA"}},[t._v("Bahia")]),t._v(" "),e("option",{attrs:{value:"CE"}},[t._v("Ceará")]),t._v(" "),e("option",{attrs:{value:"DF"}},[t._v("Distrito Federal")]),t._v(" "),e("option",{attrs:{value:"ES"}},[t._v("Espirito Santo")]),t._v(" "),e("option",{attrs:{value:"GO"}},[t._v("Goiás")]),t._v(" "),e("option",{attrs:{value:"MA"}},[t._v("Maranhão")]),t._v(" "),e("option",{attrs:{value:"MS"}},[t._v("Mato Grosso do Sul")]),t._v(" "),e("option",{attrs:{value:"MT"}},[t._v("Mato Grosso")]),t._v(" "),e("option",{attrs:{value:"MG"}},[t._v("Minas Gerais")]),t._v(" "),e("option",{attrs:{value:"PA"}},[t._v("Pará")]),t._v(" "),e("option",{attrs:{value:"PB"}},[t._v("Paraíba")]),t._v(" "),e("option",{attrs:{value:"PR"}},[t._v("Paraná")]),t._v(" "),e("option",{attrs:{value:"PE"}},[t._v("Pernambuco")]),t._v(" "),e("option",{attrs:{value:"PI"}},[t._v("Piauí")]),t._v(" "),e("option",{attrs:{value:"RJ"}},[t._v("Rio de Janeiro")]),t._v(" "),e("option",{attrs:{value:"RN"}},[t._v("Rio Grande do Norte")]),t._v(" "),e("option",{attrs:{value:"RS"}},[t._v("Rio Grande do Sul")]),t._v(" "),e("option",{attrs:{value:"RO"}},[t._v("Rondônia")]),t._v(" "),e("option",{attrs:{value:"RR"}},[t._v("Roraima")]),t._v(" "),e("option",{attrs:{value:"SC"}},[t._v("Santa Catarina")]),t._v(" "),e("option",{attrs:{value:"SP"}},[t._v("São Paulo")]),t._v(" "),e("option",{attrs:{value:"SE"}},[t._v("Sergipe")]),t._v(" "),e("option",{attrs:{value:"TO"}},[t._v("Tocantins")])])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("País:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.country},on:{input:function(a){a.target.composing||t.$set(t.form,"country",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Tecnologia:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.technology,expression:"form.technology"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.technology},on:{input:function(a){a.target.composing||t.$set(t.form,"technology",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Ano de Fabricação:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year_of_manufacture,expression:"form.year_of_manufacture"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.year_of_manufacture},on:{input:function(a){a.target.composing||t.$set(t.form,"year_of_manufacture",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"ImputValue"}},[t._v("Ano do Modelo:")]),t._v(" "),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.year_of_model,expression:"form.year_of_model"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form.year_of_model},on:{input:function(a){a.target.composing||t.$set(t.form,"year_of_model",a.target.value)}}})])])]),t._v(" "),t._m(2)])])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"truckModalLabel"}},[this._v("Cadastre seu Caminhão")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header col-12"},[a("h5",{staticClass:"modal-title",attrs:{id:"truckModalLabel"}},[this._v("Opcionais")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"py-3"},[a("button",{staticClass:"btn btn-primary form-control",attrs:{type:"submit"}},[this._v("Salvar")]),this._v(" "),a("div",{staticClass:"py-1"},[a("button",{staticClass:"btn btn-danger form-control",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Fechar")])])])}],!1,null,null,null).exports,i={props:{items:{type:Object,required:!0}},methods:{del:function(t){this.$emit("del",t)},edit:function(t){this.$emit("edit",t)},load:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=a,axios.get("/api/companytrucks",{params:{page:this.page}}).then((function(a){t.items=a.data}))}}},n={components:{"register-truck":s,"list-truck":Object(r.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"px-4 py-4 d-flex justify-content-between"},[t._m(0),t._v(" "),e("pagination",{attrs:{data:t.items,limit:5,align:"right",size:"small"},on:{"pagination-change-page":t.load}})],1),t._v(" "),e("table",{staticClass:"table table-striped table-responsive-md table-sm"},[t._m(1),t._v(" "),e("tbody",t._l(t.items.data,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.id))]),t._v(" "),"CRT"==a.truck.typetruck?e("td",[t._v("Carreta")]):t._e(),t._v(" "),"CLS"==a.truck.typetruck?e("td",[t._v("Carreta LS "+t._s(a.truck.description))]):t._e(),t._v(" "),"VDL"==a.truck.typetruck?e("td",[t._v("Vanderléia "+t._s(a.truck.description))]):t._e(),t._v(" "),"BRT"==a.truck.typetruck?e("td",[t._v("Bitrem "+t._s(a.truck.description))]):t._e(),t._v(" "),"RTM"==a.truck.typetruck?e("td",[t._v("Rodotrem "+t._s(a.truck.description))]):t._e(),t._v(" "),"TCK"==a.truck.typetruck?e("td",[t._v("Truck "+t._s(a.truck.description))]):t._e(),t._v(" "),"BTK"==a.truck.typetruck?e("td",[t._v("Bitruck "+t._s(a.truck.description))]):t._e(),t._v(" "),"VLC"==a.truck.typetruck?e("td",[t._v("VLC "+t._s(a.truck.description))]):t._e(),t._v(" "),"TPQ"==a.truck.typetruck?e("td",[t._v("3 "+t._s(a.truck.description)+"/4")]):t._e(),t._v(" "),"TRC"==a.truck.typetruck?e("td",[t._v("Toco "+t._s(a.truck.description))]):t._e(),t._v(" "),e("td",[t._v(t._s(a.company.corporative_name))]),t._v(" "),e("td",[t._v(t._s(a.board))]),t._v(" "),e("td",[t._v(t._s(a.renavam))]),t._v(" "),e("td",[t._v(t._s(a.brand))]),t._v(" "),e("td",[t._v(t._s(a.color))]),t._v(" "),e("td",[t._v(t._s(a.city))]),t._v(" "),e("td",[t._v(t._s(a.chassi))]),t._v(" "),e("td",[t._v(t._s(a.model))]),t._v(" "),e("td",[t._v(t._s(a.state))]),t._v(" "),e("td",[t._v(t._s(a.country))]),t._v(" "),e("td",[t._v(t._s(a.technology))]),t._v(" "),e("td",[t._v(t._s(a.year_of_manufacture))]),t._v(" "),e("td",[t._v(t._s(a.year_of_model))]),t._v(" "),e("td",[e("a",{staticClass:"btn btn-danger btn-sm fa fa-trash nav-icon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.del(a.id)}}}),t._v(" "),e("a",{staticClass:"btn btn-primary btn-sm nav-icon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.edit(a.id)}}},[e("i",{staticClass:"fa fa-edit"})])])])})),0)])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("h5",[a("strong",[this._v("Caminhões Cadastrados")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("N°")]),t._v(" "),e("th",[t._v("Caminhão")]),t._v(" "),e("th",[t._v("Empresa Proprietária")]),t._v(" "),e("th",[t._v("Placa")]),t._v(" "),e("th",[t._v("Renavam")]),t._v(" "),e("th",[t._v("Marca")]),t._v(" "),e("th",[t._v("Cor")]),t._v(" "),e("th",[t._v("Cidade")]),t._v(" "),e("th",[t._v("Chassi")]),t._v(" "),e("th",[t._v("Modelo")]),t._v(" "),e("th",[t._v("Estado")]),t._v(" "),e("th",[t._v("País")]),t._v(" "),e("th",[t._v("Tecnologia")]),t._v(" "),e("th",[t._v("Ano de Fabricação")]),t._v(" "),e("th",[t._v("Ano do Modelo")]),t._v(" "),e("th")])])}],!1,null,null,null).exports},data:function(){return{items:{},form:new Form({id:void 0,truck_id:void 0,company_id:void 0,board:void 0,renavam:void 0,brand:void 0,color:void 0,city:void 0,chassi:void 0,model:void 0,state:void 0,country:void 0,technology:void 0,year_of_manufacture:void 0,year_of_model:void 0,is_actived:!0})}},methods:{del:function(t){var a=this;axios.delete("/api/companytrucks/".concat(t)).then((function(t){a.load()}))},load:function(){var t=this;axios.get("/api/companytrucks").then((function(a){t.items=a.data}))},edit:function(t){var a=this;null!=t&&axios.get("/api/companytrucks/".concat(t)).then((function(t){a.form.fill(t.data.data),$("#truckModal").modal("show")}))},save:function(){var t=this;this.form.post("/api/companytrucks").then((function(a){Swal.fire({icon:"success",title:"Caminhão Cadastrado!"}),t.load()})).catch((function(t){console.error(t),Swal.fire({icon:"error",title:"Opss!",text:"Alguma coisa deu errado, tente novamente mais tarde"})})).then((function(){$("#truckModal").modal("hide"),t.form.reset()}))}},mounted:function(){this.load()}},l=Object(r.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"py-4 px-4"},[t._m(0),t._v(" "),e("list-truck",{attrs:{items:t.items},on:{edit:t.edit,del:t.del}}),t._v(" "),e("register-truck",{attrs:{form:t.form},on:{save:t.save}})],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row col-12"},[a("div",{staticClass:"mr-md-2"},[a("button",{staticClass:"btn btn-truck",attrs:{type:"button","data-toggle":"modal","data-target":"#truckModal"}},[this._v("Cadastrar")])])])}],!1,null,null,null);a.default=l.exports}}]);